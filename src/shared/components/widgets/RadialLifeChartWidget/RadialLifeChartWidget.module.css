.container {
  @apply relative flex h-full w-full flex-col gap-5 rounded-[36px] border border-white/10 p-6 text-white/80 shadow-[0_40px_80px_rgba(2,0,24,0.65)];
  background: radial-gradient(circle at top, rgba(27, 33, 87, 0.95), rgba(6, 8, 26, 0.96));
  font-family: var(--font-plus-jakarta);
}

.header {
  @apply flex items-start justify-between;
}

.title {
  @apply text-sm font-medium tracking-wide text-white;
}

.subtitle {
  @apply text-xs text-white/60;
}

.chartWrapper {
  @apply relative flex flex-1 items-center justify-center;
}

.chart {
  width: 100%;
  max-width: 420px;
}

.arcGroup {
  @apply transition-transform duration-500;
}

.arcGroup:hover {
  transform: scale(1.01);
}

.ringBackground {
  @apply transition-opacity duration-500 ease-out;
  opacity: 0.72;
  filter: drop-shadow(0 18px 36px rgba(0, 0, 0, 0.55));
}

.progressArc {
  stroke-dasharray: var(--circumference);
  stroke-dashoffset: var(--circumference);
  animation:
    smoothFlow 2s cubic-bezier(0.32, 0.7, 0.24, 1) forwards,
    settleBounce 1.6s cubic-bezier(0.25, 1.35, 0.5, 1) forwards;
  animation-delay: var(--animation-delay, 0s), calc(var(--animation-delay, 0s) + 2s);
  filter: none;
}

.tooltip {
  @apply absolute rounded-xl border border-white/20 bg-black/70 px-3 py-1 text-xs font-semibold text-white/90;
  backdrop-filter: blur(10px);
  pointer-events: none;
  white-space: nowrap;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.35);
  transform: translate(-50%, -130%);
}

.legend {
  @apply grid grid-cols-1 gap-3 md:grid-cols-2 xl:grid-cols-4;
}

.legendItem {
  @apply flex items-center gap-3 rounded-2xl border border-white/10 bg-white/5 px-4 py-3;
}

.legendSwatch {
  @apply h-2 w-5 rounded-full shadow-[0_0_12px_rgba(255,255,255,0.35)];
}

.legendContent {
  @apply flex flex-col;
}

.legendLabel {
  @apply text-xs font-medium text-white/80;
}

.legendValue {
  @apply text-xs text-white/50;
}

@keyframes smoothFlow {
  0% {
    stroke-dashoffset: var(--circumference);
  }
  100% {
    stroke-dashoffset: var(--target-offset);
  }
}

@keyframes settleBounce {
  0% {
    stroke-dashoffset: var(--target-offset);
  }
  55% {
    stroke-dashoffset: calc(var(--target-offset) - (var(--circumference) * 0.025));
  }
  82% {
    stroke-dashoffset: calc(var(--target-offset) + (var(--circumference) * 0.006));
  }
  100% {
    stroke-dashoffset: var(--target-offset);
  }
}
